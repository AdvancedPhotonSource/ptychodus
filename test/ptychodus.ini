[Data]
FileType = Velociprobe
FilePath = PREFIX/fly085/ptycho/fly085/fly085_master.h5
ScratchDirectory = /dev/null
NumberOfDataThreads = 8

[Detector]
NumberOfPixelsX = 1030
PixelSizeXInMeters = 0.000075
NumberOfPixelsY = 514
PixelSizeYInMeters = 0.000075
DetectorDistanceInMeters = 1.92

[Crop]
CropEnabled = True
CenterXInPixels = 670
CenterYInPixels = 281
ExtentXInPixels = 128
ExtentYInPixels = 128

[Scan]
Initializer = FromFile
InputFileType = VelociprobeWithEncoderY
InputFilePath = PREFIX/fly085/positions/fly085_0.txt
ExtentX = 10
ExtentY = 10
StepSizeXInMeters = 0.000001
StepSizeYInMeters = 0.000001
JitterRadiusInMeters = 0
Transform = +X+Y

[Probe]
Initializer = FresnelZonePlate
InputFileType = NPY
InputFilePath = /path/to/probe.npy
AutomaticProbeSizeEnabled = True
ProbeSize = 128
ProbeEnergyInElectronVolts = 8800.0
ProbeDiameterInMeters = 0.000400
ZonePlateRadiusInMeters = 0.000090
OutermostZoneWidthInMeters = 5.0E-8
BeamstopDiameterInMeters = 0.000060
DefocusDistanceInMeters = 0.000800

[Object]
Initializer = Random
InputFileType = NPY
InputFilePath = /path/to/object.npy

[Reconstructor]
Algorithm = rPIE
OutputFileType = NPZ
OutputFilePath = ptychodus.npz

[PtychoPy]
ProbeModes = 1
Threshold = 0
ReconstructionIterations = 100
ReconstructionTimeInSeconds = 0
RMS = False
UpdateProbe = 10
UpdateModes = 20
PhaseConstraint = 1

[Tike]
UseMpi = False
NumGpus = 1
NoiseModel = gaussian
NumProbeModes = 5
NumBatch = 10
NumIter = 200
CgIter = 2
Alpha = 0.05
StepLength = 1

[TikePositionCorrection]
UseAdaptiveMoment = False
MDecay = 0.9
VDecay = 0.999
UsePositionCorrection = False
UsePositionRegularization = False

[TikeProbeCorrection]
UseAdaptiveMoment = False
MDecay = 0.9
VDecay = 0.999
UseProbeCorrection = True
OrthogonalityConstraint = True
CenteredIntensityConstraint = False
SparsityConstraint = 1
ProbeSupportWeight = 10
ProbeSupportRadius = 0.3
ProbeSupportDegree = 5

[TikeObjectCorrection]
UseAdaptiveMoment = False
MDecay = 0.9
VDecay = 0.999
UseObjectCorrection = True
PositivityConstraint = 0
SmoothnessConstraint = 0

